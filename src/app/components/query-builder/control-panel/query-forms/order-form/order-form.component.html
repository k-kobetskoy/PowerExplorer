<div class="control-panel-container">
  <!-- Quick actions - will be sticky -->
  <div class="sticky-actions">
    <app-quick-actions [selectedNode]="selectedNode"></app-quick-actions>
  </div>


  <div class="form-scrollable-content">
    <div class="form-container">
      <div class="form-header">
        <span class="form-header-text">Node Properties</span>
        <div class="form-header-actions">                                                
            <!-- <div class="form-header-button" (click)="dublicateNode()">
                <img class="form-header-copy-icon" src="assets/icons/copy.svg" alt="copy">
                <img class="form-header-copy-icon-hover" src="assets/icons/copy-hover.svg" alt="copy">
            </div> -->
            <div class="form-header-button" (click)="removeNode()">
                <img class="form-header-delete-icon" src="assets/icons/trash-2.svg" alt="delete">
                <img class="form-header-delete-icon-hover" src="assets/icons/trash-2-hover.svg" alt="delete">
            </div>           
        </div>
    </div>
      <div class="form-body">
        <div class="form-flex">
          <mat-form-field  class="input-full-width">
            <mat-label>Attribute</mat-label>
            <input type="text" matInput [formControl]="attributeFormControl" [matAutocomplete]="attributeAutoComplete">

            <mat-autocomplete #attributeAutoComplete="matAutocomplete">
              <mat-option *ngFor="let option of filteredAttributes$ | async" [value]="option.logicalName">
                <div class="option-content">
                  <span class="logical-name">{{option.logicalName}}</span>
                  <span class="display-name">{{option.displayName}}</span>
                </div>
              </mat-option>
            </mat-autocomplete>
            <app-loading-indicator matSuffix [diameter]="20" loadingKey="attribute"></app-loading-indicator>
            @if (attributeFormControl.value) {
              <button matSuffix mat-icon-button aria-label="Clear" (click)="attributeFormControl.patchValue('')">
                <span class="form-clear-icon"><mat-icon>close</mat-icon></span>
              </button>
            }
          </mat-form-field>

          <mat-checkbox [formControl]="descendingFormControl">
            Descending Order
          </mat-checkbox>
        </div>
      </div>
    </div>
  </div>
</div>