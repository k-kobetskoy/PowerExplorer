<div class="query-builder query-builder-container">
  <as-split direction="horizontal" class="main-split" [style.height.%]="100" [style.width.%]="100" [gutterSize]="0"
            [useTransition]="true" unit="pixel">
    <!-- Left panel -->
    <as-split-area [size]="392" [minSize]="392" [maxSize]="600">
      <div class="main-toolbar-container">
        <app-settings></app-settings>    
        <app-connections></app-connections>
      </div>

      <as-split direction="vertical" [gutterSize]="10" [useTransition]="true" class="left-panel-split" unit="pixel">
        <as-split-area [minSize]="400">      
          <app-tree-panel></app-tree-panel>
        </as-split-area>
        <as-split-area [size]="417" order="4" [minSize]="218" [maxSize]="600">
          <app-control-panel></app-control-panel>
        </as-split-area>
      </as-split>
    </as-split-area>

    <!-- Right panel -->
    <as-split-area class="right-panel">

      <div class="code-editor-toolbar">
        <app-toggle-button 
          [leftOptionLabel]="'Xml'" 
          [rightOptionLabel]="'Result'" 
          [selectedIndex]="selectedTabIndex" 
          (selectionChange)="switchToTab($event)">
        </app-toggle-button>
        <div *ngIf="selectedTabIndex === 1" class="switch-wrapper">
        </div>
      </div>


      <div class="tab-content">
        <div [style.display]="selectedTabIndex === 0 ? 'block' : 'none'" class="fetch-xml-content">
          <app-code-editor #codeEditor></app-code-editor>
        </div>
        <div [style.display]="selectedTabIndex === 1 ? 'block' : 'none'" class="fetch-result-content">
          <app-result-table #resultTable></app-result-table>
        </div>
      </div>
      <app-query-tree-button-block (executeXmlRequest)="handleExecuteXmlRequest($event)" (parse)="codeEditor.parseXml()"></app-query-tree-button-block>

    </as-split-area>
  </as-split>
</div>
